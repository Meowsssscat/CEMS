{% extends "base_department.html" %}

{% block title %}Edit Event Request - CESMS{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/edit-request.css') }}?v=1">


<div class="page-header">
  <div class="header-content">
    <h1>Edit Event Request</h1>
    <p>Modify your event information before it's approved</p>
  </div>
  <a href="{{ url_for('request_status.view_request_status') }}" class="btn-back">
    ← Back to Requests
  </a>
</div>

<div class="edit-request-container">
  <div class="form-card">
    <form method="POST" id="editRequestForm" novalidate>
      
      <!-- Event Information Section -->
      <div class="form-section">
        <div class="section-header">
          <div class="section-icon">📝</div>
          <div class="section-title">
            <h2>Event Information</h2>
            <p>Basic details about your event</p>
          </div>
        </div>
        
        <div class="form-group">
          <label for="event_name" class="form-label">
            Event Name
            <span class="required">*</span>
          </label>
          <input 
            type="text" 
            id="event_name" 
            name="event_name" 
            class="form-control" 
            required 
            value="{{ request_data.event_name }}"
            placeholder="Enter event name"
            autocomplete="off"
          >
          <small class="form-hint">Give your event a clear and descriptive name</small>
        </div>

        <div class="form-group">
          <label for="description" class="form-label">
            Event Description
          </label>
          <textarea 
            id="description" 
            name="description" 
            class="form-control" 
            rows="4" 
            placeholder="Provide details about the event (optional)"
          >{{ request_data.description or '' }}</textarea>
          <small class="form-hint">Optional: Add more information about your event</small>
        </div>
      </div>

      <!-- Location & Timing Section -->
      <div class="form-section">
        <div class="section-header">
          <div class="section-icon">📍</div>
          <div class="section-title">
            <h2>Location & Timing</h2>
            <p>When and where will the event take place</p>
          </div>
        </div>

        <div class="form-group">
          <label for="location" class="form-label">
            Event Location
            <span class="required">*</span>
          </label>
          <input 
            type="text" 
            id="location" 
            name="location" 
            class="form-control" 
            required 
            value="{{ request_data.location }}"
            placeholder="Enter event location"
            autocomplete="off"
          >
          <small class="form-hint">Specify the venue or location</small>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="date" class="form-label">
              <span class="label-icon">📅</span>
              Event Date
              <span class="required">*</span>
            </label>
            <input 
              type="date" 
              id="date" 
              name="date" 
              class="form-control" 
              required
              value="{{ request_data.date }}"
            >
            <small class="form-hint">Select event date</small>
          </div>

          <div class="form-group">
            <label for="start_time" class="form-label">
              <span class="label-icon">🕐</span>
              Start Time
              <span class="required">*</span>
            </label>
            <input 
              type="time" 
              id="start_time" 
              name="start_time" 
              class="form-control" 
              required
              value="{{ request_data.start_time }}"
            >
            <small class="form-hint">Event start</small>
          </div>

          <div class="form-group">
            <label for="end_time" class="form-label">
              <span class="label-icon">🕐</span>
              End Time
              <span class="required">*</span>
            </label>
            <input 
              type="time" 
              id="end_time" 
              name="end_time" 
              class="form-control" 
              required
              value="{{ request_data.end_time }}"
            >
            <small class="form-hint">Event end</small>
          </div>
        </div>
      </div>

      <!-- Event Settings Section -->
      <div class="form-section">
        <div class="section-header">
          <div class="section-icon">⚙️</div>
          <div class="section-title">
            <h2>Event Settings</h2>
            <p>Additional configurations for your event</p>
          </div>
        </div>

        <div class="form-group">
          <label for="participant_limit" class="form-label">
            <span class="label-icon">👥</span>
            Participant Limit
          </label>
          <input 
            type="number" 
            id="participant_limit" 
            name="participant_limit" 
            class="form-control" 
            min="1" 
            value="{{ request_data.participant_limit or '' }}"
            placeholder="Leave empty for unlimited"
          >
          <small class="form-hint">Optional: Set maximum number of participants</small>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="submit" class="btn-primary">
          <span class="btn-icon">💾</span>
          Update Request
        </button>
        <a href="{{ url_for('request_status.view_request_status') }}" class="btn-secondary">
          <span class="btn-icon">✕</span>
          Cancel
        </a>
      </div>
    </form>
  </div>
</div>

<script src="{{ url_for('static', filename='js/edit-request.js') }}?v=1"></script>

{% endblock %}